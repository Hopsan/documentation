<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hopsan: HCOM Scripting</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="hopsan.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hopsan
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('userScriptingPageHcomPage.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">HCOM Scripting </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>HCOM is the built-in scripting language in Hopsan. It can control most parts of the program, either from the terminal widget or through external script files. Use the <code>help</code> command to list all available commands or <code>help</code> <code>&lt;command&gt;</code> to get help for a specific command.<br  />
</p>
<h1><a class="anchor" id="controlflow"></a>
Control Flow</h1>
<p>When HCOM scripts are loaded from a file, multi-line control flow can be used</p>
<h2><a class="anchor" id="ifstatements"></a>
If statements</h2>
<p>You can use if statements, with one optional else clause. </p><pre class="fragment">if( condition_expression )
  .
  .
[else]
  .
  .
endif
</pre><p>Example: Assign b = 1 if a is greater then 4, else assign b = 0 </p><pre class="fragment">a = 5
if( a &gt; 4 )
  b = 1
else
  b = 0
endif
</pre><h2><a class="anchor" id="whileloops"></a>
While loops</h2>
<p>You can use a while loop to repeat an expression until the condition is fulfilled </p><pre class="fragment">while (condition)
  .
  .
repeat
</pre><p>Example: Loop an expression five times, in this case summing the five first elements from a data vector </p><pre class="fragment">sum = 0
i = 0
while (i &lt; 5)
  sum = sum + peek(data_vector, i)
  i = i+1
repeat
</pre><h2><a class="anchor" id="foreachloops"></a>
Foreach loops</h2>
<p>You can use foreach to loop over multiple plot variables matching a filter_pattern Each resolved plot variable name will end up in the loop variable 'var'. Use $var to resolve the matched plot variable name Note! This function only works with plot variables right now </p><pre class="fragment">foreach var filter_pattern
  .
  .
endforeach
</pre><p>Example: Take the sum of the average value from all plot variables matching the pattern Step*.out.y </p><pre class="fragment">sum = 0
foreach v Step*.out.y
  sum = sum + aver($v)
endforeach
</pre><h1><a class="anchor" id="simulationcommands"></a>
Simulation Commands</h1>
<h2><a class="anchor" id="sim"></a>
sim</h2>
<p>Simulates current model (or all open models)<br  />
 Usage: sim<br  />
 Usage: sim all<br  />
 Usage: sim -loadstate file<br  />
 Usage: sim -loadsv file<br  />
 -loadsv will load start values from a saved simulation state file<br  />
 -loadstate will do the same but also offset the simulation time</p>
<h2><a class="anchor" id="chss"></a>
chss</h2>
<p>Change simulation settings<br  />
 Usage: chss [starttime] [timestep] [stoptime] [samples]<br  />
 Usage: chss [starttime] [timestep] [stoptime]</p>
<h2><a class="anchor" id="chts"></a>
chts</h2>
<p>Change time step of sub-component<br  />
 Usage: chts [component] [timestep]</p>
<h2><a class="anchor" id="ints"></a>
ints</h2>
<p>Inherit time step of sub-component from system time step<br  />
 Usage: ints [component]</p>
<h1><a class="anchor" id="plotcommands"></a>
Plot Commands</h1>
<h2><a class="anchor" id="chpv"></a>
chpv</h2>
<p>Change plot variables in current plot<br  />
 Usage: chpv [leftvar1{s,c,t} leftvar2{s,c,t} ...] -r [rightvar1{s,c,t} rightvar2{s,c,t} ... ]<br  />
 Usage: chpv [leftvar1{s,c,t} leftvar2{s,c,t} ...]<br  />
 Usage: chpv -r [rightvar1{s,c,t} rightvar2{s,c,t} ... ]<br  />
 <br  />
 Line appearance (optional):<br  />
 Style (s): 1 = solid, 2 = dotted, 3 = dashed, 4 = dash-dotted<br  />
 Color (c): red, darkblue, lightgreen...<br  />
 Thickness (t): Thickness of line (integer value)<br  />
 Symbol (y): 1 = cross, 2 = ellipse, 3=xcross, 4=triangle...<br  />
 <br  />
 Example:<br  />
 &gt;&gt; chpv Pump.P1.p -r Pump.P1.q{2,blue,2}</p>
<h2><a class="anchor" id="adpv"></a>
adpv</h2>
<p>Add plot variables in current plot<br  />
 Usage: adpv [leftvar1{s,c,t} leftvar2{s,c,t} ...] -r [rightvar1{s,c,t} rightvar2{s,c,t} ... ]<br  />
 Usage: adpv [leftvar1{s,c,t} leftvar2{s,c,t} ...]<br  />
 Usage: adpv -r [rightvar1{s,c,t} rightvar2{s,c,t} ... ]<br  />
 <br  />
 Line appearance (optional):<br  />
 Style (s): 1 = solid, 2 = dotted, 3 = dashed, 4 = dash-dotted<br  />
 Color (c): red, darkblue, lightgreen...<br  />
 Thickness (t): Thickness of line (integer value)<br  />
 Symbol (y): 1 = cross, 2 = ellipse, 3=xcross, 4=triangle...<br  />
 <br  />
 Example:<br  />
 &gt;&gt; adpv Pump.P1.p -r Pump.P1.q{2,blue,2}</p>
<h2><a class="anchor" id="adpvl"></a>
adpvl</h2>
<p>Adds plot variables on left axis in current plot<br  />
 Usage: adpvl [var1{s,c,t} var2{s,c,t} ... ]<br  />
 <br  />
 Line appearance (optional):<br  />
 Style (s): 1 = solid, 2 = dotted, 3 = dashed, 4 = dash-dotted<br  />
 Color (c): red, darkblue, lightgreen...<br  />
 Thickness (t): Thickness of line (integer value)<br  />
 Symbol (y): 1 = cross, 2 = ellipse, 3=xcross, 4=triangle...<br  />
 <br  />
 Example:<br  />
 &gt;&gt; adpvl Pump.P1.p Pump.P1.q{2,blue,2}</p>
<h2><a class="anchor" id="adpvr"></a>
adpvr</h2>
<p>Adds plot variables on right axis in current plot<br  />
 Usage: adpvr [var1{s,c,t} var2{s,c,t} ... ]<br  />
 <br  />
 Line appearance (optional):<br  />
 Style (s): 1 = solid, 2 = dotted, 3 = dashed, 4 = dash-dotted<br  />
 Color (c): red, darkblue, lightgreen...<br  />
 Thickness (t): Thickness of line (integer value)<br  />
 Symbol (y): 1 = cross, 2 = ellipse, 3=xcross, 4=triangle...<br  />
 <br  />
 Example:<br  />
 &gt;&gt; adpvl Pump.P1.p Pump.P1.q{2,blue,2}</p>
<h2><a class="anchor" id="chds"></a>
chds</h2>
<p>Change diagram size (and position)<br  />
 Usage: chds [width] [height]<br  />
 Usage: chds [x] [y] [width] [height]<br  />
</p>
<h2><a class="anchor" id="chdl"></a>
chdl</h2>
<p>Change (and lock) diagram limits in the current plot<br  />
 Usage: chdl [xLow] [xHigh]<br  />
 Usage: chdl [xLow] [xHigh] [xTicks] <br  />
 Usage: chdl [xLow] [xHigh] [xTicks] [ylLow] [ylHigh] [ylTicks] <br  />
 Usage: chdl [xLow] [xHigh] [xTicks] [ylLow] [ylHigh] [ylTicks] [yrLow] [yrHigh] [yrTicks] <br  />
 Usage: chdl reset</p>
<h2><a class="anchor" id="chdlyl"></a>
chdlyl</h2>
<p>Change (and lock) diagram left y-axis limits in the current plot<br  />
 Usage: chdlyl [ylLow] [ylHigh]<br  />
 Usage: chdlyl [ylLow] [ylHigh] [ylTicks]<br  />
 Usage: chdlyl reset</p>
<h2><a class="anchor" id="chdlyr"></a>
chdlyr</h2>
<p>Change (and lock) diagram right y-axis limits in the current plot<br  />
 Usage: chdlyr [yrLow] [yrHigh]<br  />
 Usage: chdlyr [yrLow] [yrHigh] [yrTicks]<br  />
 Usage: chdlyr reset</p>
<h2><a class="anchor" id="logx"></a>
logx</h2>
<p>Turn on and off logarithmic x-axis scale<br  />
 Usage: logx on <br  />
 Usage: logx off</p>
<h2><a class="anchor" id="logyl"></a>
logyl</h2>
<p>Turn on and off logarithmic left y-axis scale<br  />
 Usage: logyl on <br  />
 Usage: logyl off</p>
<h2><a class="anchor" id="logyr"></a>
logyr</h2>
<p>Turn on and off logarithmic right y-axis scale<br  />
 Usage: logyr on <br  />
 Usage: logyr off</p>
<h2><a class="anchor" id="sapw"></a>
sapw</h2>
<p>Save the current plotwinow as an image<br  />
 Usage: sapw [fileName.ext] [width] [height] [dimUnit] [dpi] <br  />
 Usage: sapw [fileName.ext] [width] [height] [dimUnit] <br  />
 Usage: sapw [fileName.ext] [width] [height] Pixels size<br  />
 Usage: sapw [fileName.ext] Use screen size<br  />
 ext: png, pdf, svg, ps, jpeg<br  />
 dimUnit: px, mm, cm, in<br  />
 'dpi' (actually pixels/inch) is ignored for vector formats or when dimunit is 'px' (pixels)</p>
<h2><a class="anchor" id="chpw"></a>
chpw</h2>
<p>Changes current terminal plot window<br  />
 Usage: chpw [name]</p>
<h2><a class="anchor" id="dipw"></a>
dipw</h2>
<p>Displays current terminal plot window<br  />
 Usage: dipw [no arguments]</p>
<h2><a class="anchor" id="chpvl"></a>
chpvl</h2>
<p>Changes plot variables on left axis in current plot<br  />
 Usage: chpvl [var1{s,c,t} var2{s,c,t} ... ]<br  />
 <br  />
 Line appearance (optional):<br  />
 Style (s): 1 = solid, 2 = dotted, 3 = dashed, 4 = dash-dotted<br  />
 Color (c): red, darkblue, lightgreen...<br  />
 Thickness (t): Thickness of line (integer value)<br  />
 Symbol (y): 1 = cross, 2 = ellipse, 3=xcross, 4=triangle...<br  />
 <br  />
 Example:<br  />
 &gt;&gt; chpvl Pump.P1.p Pump.P1.q{2,blue,2}</p>
<h2><a class="anchor" id="chpvr"></a>
chpvr</h2>
<p>Changes plot variables on right axis in current plot<br  />
 Usage: chpvr [var1{s,c,t} var2{s,c,t,y} ... ] Line appearance (optional):<br  />
 Style (s): 1 = solid, 2 = dotted, 3 = dashed, 4 = dash-dotted<br  />
 Color (c): red, darkblue, lightgreen...<br  />
 Thickness (t): Thickness of line (integer value)<br  />
 Symbol (y): 1 = cross, 2 = ellipse, 3=xcross, 4=triangle...<br  />
 <br  />
 Example:<br  />
 &gt;&gt; chpvr Pump.P1.p Pump.P1.q{2,blue,2}</p>
<h2><a class="anchor" id="chpvx"></a>
chpvx</h2>
<p>Changes xdata plot variable in current plot<br  />
 Usage: chpvx [varname]<br  />
 Usage: chpvx -c Clear Custom x-data</p>
<h2><a class="anchor" id="chto"></a>
chto</h2>
<p>Change time plot offset for the current or specified generation<br  />
 Usage: chto [offset] [generation]<br  />
 Time offset should be given in the unit selected as the default time unit<br  />
 The generation specifier is optional, you can use c,a,*,h,l specifiers</p>
<h2><a class="anchor" id="dito"></a>
dito</h2>
<p>Display time plot offset of specified generation<br  />
 Usage: dito [generation]<br  />
 Time offset will be shown in the chose default time unit<br  />
 The "ans" variable will be offset in seconds (the base unit)</p>
<h2><a class="anchor" id="sapl"></a>
sapl</h2>
<p>Save log variables to file. Filename suffix determins format<br  />
 Usage: sapl [filepath] [-flags] [variables]<br  />
 Flags (optional):<br  />
 -csv Force CSV format<br  />
 -plo Force PLO format<br  />
 -h5 Force H5 (HDF5) format</p>
<h2><a class="anchor" id="repl"></a>
repl</h2>
<p>Loads plot files from .csv or .plo<br  />
 Usage: repl [-flags] [filepath]<br  />
 Flags (optional):<br  />
 -csv Force CSV (, or ;) format<br  />
 -ssp Force CSV (space separated) format<br  />
 -plo Force PLO format</p>
<h2><a class="anchor" id="bode"></a>
bode</h2>
<p>Creates a bode plot from specified curves<br  />
 Usage: bode [invar] [outvar] [maxfreq] [windowfunction] [mintime] [maxtime]</p>
<h2><a class="anchor" id="nyquist"></a>
nyquist</h2>
<p>Creates a Nyquist plot from specified curves<br  />
 Usage: nyquist [invar] [outvar]</p>
<h2><a class="anchor" id="lock"></a>
lock</h2>
<p>Locks or unlocks all axes in current plot window<br  />
 Usage: lock [flag] [on/off]<br  />
 See also: lockyl, lockyr, lockr</p>
<h2><a class="anchor" id="lockyl"></a>
lockyl</h2>
<p>Locks or unlocks left y-axis in current plot window<br  />
 Usage: lockyl [on/off]<br  />
 See also: lock, lockyr, lockr</p>
<h2><a class="anchor" id="lockyr"></a>
lockyr</h2>
<p>Locks or unlocks right y-axis in current plot window<br  />
 Usage: lockyr [on/off]<br  />
 See also: lock, lockyl, lockr</p>
<h2><a class="anchor" id="lockx"></a>
lockx</h2>
<p>Locks or unlocks x-axis in current plot window<br  />
 Usage: lockx [on/off]<br  />
 See also: lock, lockyl, lockyr</p>
<h1><a class="anchor" id="parametercommands"></a>
Parameter Commands</h1>
<h2><a class="anchor" id="dipa"></a>
dipa</h2>
<p>Display parameter value<br  />
 Usage: dipa<br  />
 Usage: dipa [parameter]<br  />
 Usage: dipa [parameter] [condition]<br  />
 <br  />
 Example: Display all parameters starting with "Mass" and a value greater than 10:<br  />
 &gt;&gt; dipa Mass* &gt;10</p>
<h2><a class="anchor" id="adpa"></a>
adpa</h2>
<p>Add (system) parameter<br  />
 Usage: adpa [parameter] [value]</p>
<h2><a class="anchor" id="chpa"></a>
chpa</h2>
<p>Change parameter value<br  />
 Usage: chpa [parameter] [value]</p>
<h2><a class="anchor" id="sapa"></a>
sapa</h2>
<p>Save model or component parameter values to XML file (.hpf)<br  />
 Usage: sapa [filepath]<br  />
 Usage: sapa [filepath] [componentname]<br  />
 Usage: sapa [filepath] [-c]<br  />
 Flag -c for current visible system</p>
<h2><a class="anchor" id="repa"></a>
repa</h2>
<p>Load model or component parameters values from XML file (.hpf)<br  />
 Usage: repa [filepath]<br  />
 Usage: repa [filepath] [componentname]<br  />
 Usage: repa [filepath] [-c] <br  />
 Flag -c for current visible system</p>
<h1><a class="anchor" id="filecommands"></a>
File Commands</h1>
<h2><a class="anchor" id="exec"></a>
exec</h2>
<p>Executes a script file<br  />
 Usage: exec [filepath]</p>
<h2><a class="anchor" id="wrhi"></a>
wrhi</h2>
<p>Writes history to file<br  />
 Usage: wrhi [filepath]</p>
<h2><a class="anchor" id="wrtf"></a>
wrtf</h2>
<p>Writes text string to file<br  />
 Usage: wrtf [-flag] [filepath] ["string"]<br  />
 Flags (optional):<br  />
 -a Append at end of file<br  />
 -e Erase existing contents before writing<br  />
 Variables can be written by putting them in dollar signs.<br  />
 Example:<br  />
 &gt;&gt; wrtf -a output.txt "x=$x$"<br  />
</p>
<h2><a class="anchor" id="pwd"></a>
pwd</h2>
<p>Displays present working directory<br  />
 Usage: pwd [no arguments]</p>
<h2><a class="anchor" id="mwd"></a>
mwd</h2>
<p>Displays working directory of current model<br  />
 Usage: mwd [no arguments]</p>
<h2><a class="anchor" id="cd"></a>
cd</h2>
<p>Changes present working directory<br  />
 Path may be relative or absolute and must be contained withing quotes " " if it contains spaces<br  />
 Usage: cd [directory]<br  />
 Usage: cd -mwd Switch to current model working directory</p>
<h2><a class="anchor" id="mkdir"></a>
mkdir</h2>
<p>Creates directory and all parent directories<br  />
 Path may be relative or absolute and must be contained withing quotes " " if it contains spaces<br  />
 Usage: mkdir [path]</p>
<h2><a class="anchor" id="ls"></a>
ls</h2>
<p>List files in current directory<br  />
 Usage: ls Usage: ls [wildcard]</p>
<h2><a class="anchor" id="edit"></a>
edit</h2>
<p>Open file in external editor<br  />
 Usage: edit [filepath]</p>
<h1><a class="anchor" id="variablecommands"></a>
Variable Commands</h1>
<h2><a class="anchor" id="disp"></a>
disp</h2>
<p>Shows a list of all variables matching specified name filter (using asterisks)<br  />
 Usage: disp [filter]</p>
<h2><a class="anchor" id="peek"></a>
peek</h2>
<p>Shows the value at a specified index in a specified data variable<br  />
 Usage: peek [variable] [index]</p>
<h2><a class="anchor" id="poke"></a>
poke</h2>
<p>Changes the value at a specified index in a specified data variable<br  />
 Usage: poke [variable] [index] [newvalue]</p>
<h2><a class="anchor" id="alias"></a>
alias</h2>
<p>Defines an alias for a variable<br  />
 Usage: alias [variable] [alias]</p>
<h2><a class="anchor" id="rmvar"></a>
rmvar</h2>
<p>Removes specified variable<br  />
 Usage: rmvar [variables]<br  />
 Usage: rmvar [variables] -n [variables]<br  />
 Flags (optional):<br  />
 -n Exclude specified variables -noalias Exclude all alias variables</p>
<h2><a class="anchor" id="dihg"></a>
dihg</h2>
<p>Display highest generation<br  />
 Usage: dihg<br  />
</p>
<h2><a class="anchor" id="sequ"></a>
sequ</h2>
<p>Set quantity on specified variable(s)<br  />
 Usage: sequ [variable] [quantityname]<br  />
 Usage: sequ [variable] -<br  />
 The second example clears the quantity</p>
<h2><a class="anchor" id="ivpv"></a>
ivpv</h2>
<p>Toggle invert plot of specified variable<br  />
 Usage: ivpv [variable]</p>
<h2><a class="anchor" id="sepl"></a>
sepl</h2>
<p>Set plot label<br  />
 Usage: sepl [variable] [label]</p>
<h2><a class="anchor" id="dlog"></a>
dlog</h2>
<p>Disables logging in specified ports<br  />
 Usage: dlog [ports]</p>
<h2><a class="anchor" id="elog"></a>
elog</h2>
<p>Enables logging in specified ports<br  />
 Usage: elog [ports]</p>
<h1><a class="anchor" id="modelcommands"></a>
Model Commands</h1>
<h2><a class="anchor" id="load"></a>
load</h2>
<p>Loads a model file<br  />
 Usage: load [filepath]</p>
<h2><a class="anchor" id="revert"></a>
revert</h2>
<p>Revert the current model<br  />
 Usage: revert</p>
<h2><a class="anchor" id="loadr"></a>
loadr</h2>
<p>Loads most recent model file<br  />
 Usage: loadr [no arguments]</p>
<h2><a class="anchor" id="save"></a>
save</h2>
<p>Saves current model<br  />
 Usage: save<br  />
 Usage: save [filepath]<br  />
 If no file path is specified, current model file is overwritten.</p>
<h2><a class="anchor" id="reco"></a>
reco</h2>
<p>Renames a component<br  />
 Usage: reco [oldname] [newname]</p>
<h2><a class="anchor" id="rmco"></a>
rmco</h2>
<p>Removes specified component(s)<br  />
 Usage: rmco [component]</p>
<h2><a class="anchor" id="chtab"></a>
chtab</h2>
<p>Changes current model tab<br  />
 Usage: chtab [index]</p>
<h2><a class="anchor" id="adco"></a>
adco</h2>
<p>Adds a new component to current model<br  />
 Usage: adco [typename] [name] -a [x-coord] [y-coord] [rot-angel]<br  />
 Usage: adco [typename] [name] -e [other] [east-offset] [rot-angel]<br  />
 Usage: adco [typename] [name] -w [other] [west-offset] [rot-angel]<br  />
 Usage: adco [typename] [name] -n [other] [north-offset] [rot-angel]<br  />
 Usage: adco [typename] [name] -s [other] [south-offset] [rot-angel]</p>
<h2><a class="anchor" id="rpco"></a>
rpco</h2>
<p>Replaces a component with a different type<br  />
 Usage: rpco [name] [typename]</p>
<h2><a class="anchor" id="coco"></a>
coco</h2>
<p>Connect components in current model<br  />
 Usage: coco [comp1] [port1] [comp2] [port2]</p>
<h2><a class="anchor" id="unco"></a>
unco</h2>
<p>List unconnected ports in current model<br  />
 Usage: unco [wildcard]</p>
<h2><a class="anchor" id="crmo"></a>
crmo</h2>
<p>Creates a new model<br  />
 Usage: crmo [no arguments]</p>
<h1><a class="anchor" id="othercommands"></a>
Other Commands</h1>
<h2><a class="anchor" id="help"></a>
help</h2>
<p>Shows help information<br  />
 Usage: help [command]</p>
<h2><a class="anchor" id="info"></a>
info</h2>
<p>Show information about specified variable<br  />
 Usage: info [variable]</p>
<h2><a class="anchor" id="exit"></a>
exit</h2>
<p>Exits the program<br  />
 Usage: exit [no arguments]</p>
<h2><a class="anchor" id="print"></a>
print</h2>
<p>Prints arguments on the screen<br  />
 Usage: print [-flag] ["string"]<br  />
 Usage: print [-flag] [expression]<br  />
 Flags (optional):<br  />
 -i Info message<br  />
 -w Warning message<br  />
 -e Error message<br  />
 Variables can be included in strings by putting them in dollar signs.<br  />
 Example:<br  />
 &gt;&gt; print -w "x=$x$"<br  />
 Warning: x=12</p>
<h2><a class="anchor" id="eval"></a>
eval</h2>
<p>Evaluate string expression<br  />
 Usage: eval ["expression"]<br  />
 Variable evaluation can be included by putting them within dollar signs<br  />
 Example:<br  />
 &gt;&gt; eval "chpv Gain$i$.out.y"</p>
<h2><a class="anchor" id="set"></a>
set</h2>
<p>Sets Hopsan preferences<br  />
 Usage: set [preference] [value]<br  />
 Available preferences:<br  />
 multicore [on/off]<br  />
 threads [number]<br  />
 cachetodisk [on/off]<br  />
 generationlimit [number]<br  />
 samples [number]<br  />
 undo [on/off]<br  />
 backup [on/off]<br  />
 progressbar [on/off]<br  />
 progressbarstep [number]</p>
<h2><a class="anchor" id="get"></a>
get</h2>
<p>Shows current Hopsan preferences<br  />
 Usage: get [preference]<br  />
 No argument prints all preferences.<br  />
 Available preferences:<br  />
 multicore <br  />
 threads <br  />
 cachetodisk <br  />
 generationlimit<br  />
 samples <br  />
 undo <br  />
 backup <br  />
 progressbar <br  />
 progressbarstep<br  />
</p>
<h2><a class="anchor" id="close"></a>
close</h2>
<p>Closes current model<br  />
 Usage: close Usage: close all</p>
<h2><a class="anchor" id="fmu"></a>
fmu</h2>
<p>Exports current model to Functional Mockup Unit (FMU)<br  />
 Usage: fmu [path]</p>
<h2><a class="anchor" id="opt"></a>
opt</h2>
<p>Initialize an optimization<br  />
 Usage: opt [algorithm] [partype] [parnum] [parmin] [parmax] -flags]<br  />
 Algorithms: Flags:<br  />
 complex alpha</p>
<h2><a class="anchor" id="call"></a>
call</h2>
<p>Calls a pre-defined function<br  />
 Usage: call [funcname]</p>
<h2><a class="anchor" id="echo"></a>
echo</h2>
<p>Sets terminal output on or off<br  />
 Usage: echo [on/off]</p>
<h2><a class="anchor" id="semt"></a>
semt</h2>
<p>Change mutli-trheading settings<br  />
 Usage: semt [on/off] [numThreads] [algorithm]<br  />
 Usage: semt [on/off] [numThreads]</p>
<h2><a class="anchor" id="sleep"></a>
sleep</h2>
<p>Pause execution for a number of seconds<br  />
 Usage: sleep [seconds]<br  />
 The sleep argument has millisecond accuracy</p>
<h1><a class="anchor" id="functions"></a>
Local Functions</h1>
<h2><a class="anchor" id="abs"></a>
abs()</h2>
<p>The absolute value of each vector element<br  />
 Usage: abs(vector)</p>
<h2><a class="anchor" id="ans"></a>
ans()</h2>
<p>Returns the answer from the previous computation<br  />
 Usage: ans()</p>
<h2><a class="anchor" id="aver"></a>
aver()</h2>
<p>Calculate average value of vector<br  />
 Usage: aver(vector)</p>
<h2><a class="anchor" id="bdf1"></a>
bdf1()</h2>
<p>Transforms derivatives in a symbolic expression using the first order backward differentiation formula (implicit Euler)<br  />
 Usage: e = bdf1(f)</p>
<h2><a class="anchor" id="bdf2"></a>
bdf2()</h2>
<p>Transforms derivatives in a symbolic expression using the second order backward differentiation formula<br  />
 Usage: e = bdf2(f)</p>
<h2><a class="anchor" id="ceil"></a>
ceil()</h2>
<p>Rounds the value of each vector element to the smallest integer larger than the value<br  />
 Usage: ceil(vector)</p>
<h2><a class="anchor" id="cut"></a>
cut()</h2>
<p>Removes all samples x[i] for which y[i]&lt;0.5<br  />
 Usage: cut(x, y)</p>
<h2><a class="anchor" id="ddt"></a>
ddt()</h2>
<p>Differentiates vector with respect to time (or to custom vector)<br  />
 Usage: ddt(vector)<br  />
 Usage: ddt(vector, timevector)</p>
<h2><a class="anchor" id="der"></a>
der()</h2>
<p>Differentiates a symbolic expression with respect to another one<br  />
 Usage: e = der(f1,f2)</p>
<h2><a class="anchor" id="eq"></a>
eq()</h2>
<p>Index-wise fuzzy equal check between vectors and/or scalars (equivalent to "==" operator)<br  />
 Usage: eq(varName, threshold, eps)<br  />
 Usage: eq(var1, var2, eps)</p>
<h2><a class="anchor" id="esd"></a>
esd()</h2>
<p>Generates energy spectral density from vector<br  />
 Usage: esd(vector, [timevector], <a href="[rectangular]/flattop/hann">windowing</a>, [mintime], [maxtime])<br  />
</p>
<h2><a class="anchor" id="euler"></a>
euler()</h2>
<p>Transforms derivatives in a symbolic expression using the forward Euler method<br  />
 Usage: e = euler(f)</p>
<h2><a class="anchor" id="eval"></a>
eval</h2>
<p>Evaluates a symbolic expression using local variables<br  />
 Usage: y = expr(f)</p>
<h2><a class="anchor" id="exists"></a>
exists()</h2>
<p>Returns whether or not specified component exists in model<br  />
 Usage: exists(name)</p>
<h2><a class="anchor" id="expand"></a>
expand()</h2>
<p>Expands all parentheses in a symbolic expression<br  />
 Usage: e = expand(f)</p>
<h2><a class="anchor" id="expandpowers"></a>
expandPowers()</h2>
<p>Expands all powers in a symbolic expression to multiplications<br  />
 Usage: e = expandPowers(f)</p>
<h2><a class="anchor" id="expr"></a>
expr()</h2>
<p>Defines a new symbolic expression<br  />
 Usage: e = expr(...)</p>
<h2><a class="anchor" id="factor"></a>
factor()</h2>
<p>Factors a symbolic expression with respect to another one<br  />
 Usage: e = factor(f1,f2)</p>
<h2><a class="anchor" id="fc"></a>
fc()</h2>
<p>Fuzzy compare, returns 1 if the values of the arguments are almost the same<br  />
 Usage: fc(expr, expr, tolerance)</p>
<h2><a class="anchor" id="fd"></a>
fd()</h2>
<p>Converts variable to frequency domain.<br  />
 Usage: y = fd(x)</p>
<h2><a class="anchor" id="fft"></a>
fft()</h2>
<p>Generates frequency spectrum plot from vector (deprecated)<br  />
 Usage: fft(vector, <a href="[power]/energy/rms">type</a>, <a href="[rectangular]/flattop/hann">windowing</a>, [min], [max])<br  />
 Usage: fft(vector, [timevector], <a href="[power]/energy/rms">type</a>, <a href="[rectangular]/flattop/hann">windowing</a>, [min], [max])</p>
<h2><a class="anchor" id="floor"></a>
floor()</h2>
<p>Rounds the value of each vector element to the largest integer smaller than the value<br  />
 Usage: floor(vector)</p>
<h2><a class="anchor" id="gt"></a>
gt()</h2>
<p>Index-wise greater than check between vectors and/or scalars (equivalent to "&gt;" operator)<br  />
 Usage: gt(varName, threshold)<br  />
 Usage: gt(var1, var2)</p>
<h2><a class="anchor" id="hg"></a>
hg()</h2>
<p>Returns highest generation number<br  />
 Usage: hg()</p>
<h2><a class="anchor" id="imax"></a>
imax()</h2>
<p>Calculate index of maximum value of vector<br  />
 Usage: imax(vector)</p>
<h2><a class="anchor" id="imin"></a>
imin()</h2>
<p>Calculate index of minimum value of vector<br  />
 Usage: imin(vector)</p>
<h2><a class="anchor" id="int"></a>
int()</h2>
<p>Integrates vector with respect to time (or to custom vector)<br  />
 Usage: int(vector)<br  />
 Usage: int(vector, timevector)</p>
<h2><a class="anchor" id="latex"></a>
latex()</h2>
<p>Prints a symbolic expression with LaTeX syntax<br  />
 Usage: latex(e)</p>
<h2><a class="anchor" id="left"></a>
left()</h2>
<p>Returns the left-hand side of a SymHop equation<br  />
 Usage: e = left(f)</p>
<h2><a class="anchor" id="linearize"></a>
linearize()</h2>
<p>Linearizes a SymHop equation by multiplying with all divisors<br  />
 Usage: e = linearize(f)</p>
<h2><a class="anchor" id="linspace"></a>
linspace()</h2>
<p>Linearly spaced vector<br  />
 Usage: linspace(min, max, numSamples)</p>
<h2><a class="anchor" id="logspace"></a>
logspace()</h2>
<p>Logarithmicly spaced vector<br  />
 Usage: logspace(min, max, numSamples)</p>
<h2><a class="anchor" id="lp1"></a>
lp1()</h2>
<p>Applies low-pass filter of first degree to vector<br  />
 Usage: lp1(vector, frequency)<br  />
 Usage: lp1(vector, timevector, frequency)</p>
<h2><a class="anchor" id="lt"></a>
lt()</h2>
<p>Index-wise less than check between vectors and/or scalars (equivalent to "&lt;" operator)<br  />
 Usage: lt(varName, threshold)<br  />
 Usage: lt(var1,var2)</p>
<h2><a class="anchor" id="max"></a>
max()</h2>
<p>Calculate maximum value of vector<br  />
 Usage:max(vector)</p>
<h2><a class="anchor" id="maxof"></a>
maxof()</h2>
<p>Returns the element-wise maximum values of x and y vectors<br  />
 Usage: maxof(x,y)</p>
<h2><a class="anchor" id="maxpar"></a>
maxpar()</h2>
<p>Returns the maximum value of specified parameter for specified component type<br  />
 Usage: maxpar(type,par)</p>
<h2><a class="anchor" id="min"></a>
min()</h2>
<p>Calculate minimum value of vector<br  />
 Usage: min(vector)</p>
<h2><a class="anchor" id="minof"></a>
minof()</h2>
<p>Returns the element-wise minimum values of x and y vectors<br  />
 Usage: minof(x,y)</p>
<h2><a class="anchor" id="minpar"></a>
minpar()</h2>
<p>Returns the minimum value of specified parameter for specified component type<br  />
 Usage: minpar(type,par)</p>
<h2><a class="anchor" id="obj"></a>
obj()</h2>
<p>Returns optimization objective function value with specified index<br  />
 Usage: obj(idx)</p>
<h2><a class="anchor" id="ones"></a>
ones()</h2>
<p>Create a vector of ones<br  />
 Usage: ones(size)</p>
<h2><a class="anchor" id="optpar"></a>
optpar()</h2>
<p>Returns specified optimization parameter<br  />
 Usage: optpar(idx)</p>
<h2><a class="anchor" id="optvar"></a>
optvar()</h2>
<p>Returns specified optimization variable<br  />
 Usage: optvar(idx)</p>
<h2><a class="anchor" id="peek"></a>
peek</h2>
<p>Returns vector value at specified index<br  />
 Usage: peek(vector, idx)</p>
<h2><a class="anchor" id="psd"></a>
psd()</h2>
<p>Generates power spectral density from vector<br  />
 Usage: psd(vector, [timevector], <a href="[rectangular]/flattop/hann">windowing</a>, [mintime], [maxtime])<br  />
</p>
<h2><a class="anchor" id="rand"></a>
rand()</h2>
<p>Generates a random value between 0 and 1<br  />
 Usage: rand()</p>
<h2><a class="anchor" id="removedivisors"></a>
removeDivisors()</h2>
<p>Removes all divisors in a symbolic expression<br  />
 Usage: e = removeDivisors(f)</p>
<h2><a class="anchor" id="right"></a>
right()</h2>
<p>Returns the right-hand side of a SymHop equation<br  />
 Usage: e = right(f)</p>
<h2><a class="anchor" id="rms"></a>
rms()</h2>
<p>Computes the root mean square of given vector<br  />
 Usage: rms(vector)</p>
<h2><a class="anchor" id="rmsd"></a>
rmsd()</h2>
<p>Generates root mean square spectral density from vector<br  />
 Usage: rmsd(vector, [timevector], <a href="[rectangular]/flattop/hann">windowing</a>, [mintime], [maxtime])<br  />
</p>
<h2><a class="anchor" id="round"></a>
round()</h2>
<p>Rounds the value of each vector element to closest integer value<br  />
 Usage: round(vector)</p>
<h2><a class="anchor" id="simplify"></a>
simplify()</h2>
<p>Simplifies a symbolic expression<br  />
 Usage: e = simplify(f)</p>
<h2><a class="anchor" id="size"></a>
size()</h2>
<p>Calculate the size of a vector<br  />
 Usage: size(vector)</p>
<h2><a class="anchor" id="ssi"></a>
ssi()</h2>
<p>Identifies steady-state for specified variable<br  />
 Usage: ssi(vector, method, arguments)<br  />
 Method 0 (rectangular window):<br  />
 ssi(vector, 0, tolerance, windowlength)<br  />
 Method 1 (ratio of differently estimated variances):<br  />
 ssi(vector, 1, tolerance, windowlength, noiseamplitude<br  />
 Method 2 (ratio of differently estimated variances using weighted moving average):<br  />
 ssi(vector, 2, tolerance, lambda1, lambda2, lambda3, noiseamplitude)</p>
<h2><a class="anchor" id="td"></a>
td()</h2>
<p>Converts variable to time domain.<br  />
 Usage: y = td(x)</p>
<h2><a class="anchor" id="time"></a>
time()</h2>
<p>Returns last simulation time<br  />
 Usage: time()</p>
<h2><a class="anchor" id="trapezoid"></a>
trapezoid()</h2>
<p>Transforms derivatives in a symbolic expression using the trapezoid method<br  />
 Usage: e = trapezoid(f)</p>
<h2><a class="anchor" id="vector"></a>
vector()</h2>
<p>Create a vector with specified values<br  />
 Usage: vector(1,2,3,4,5,6,...)</p>
<h2><a class="anchor" id="x"></a>
x()</h2>
<p>Returns the X-vector of the specified variable.<br  />
 Usage: x(vector)</p>
<h2><a class="anchor" id="zeros"></a>
zeros()</h2>
<p>Create a vector of zeros<br  />
 Usage: zeros(size) </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Jun 10 2023 18:25:55 for Hopsan by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
